## 定时函数会影响 帧率吗？

可能会导致帧率问题的原因：

1. 阻塞主线程

- 如果函调函数执行的时间过长，会阻塞主线程，浏览器是单线程的，如果在主线程执行任务时，页面的渲染会被暂停。如果这种阻塞频繁，就会导致余额面渲染不流畅，出现帧率下降的问题

2. 任务堆积

- 如果 setInterval 设定的事件间隔短，而回调函数执行的时间过长，就会导致任务堆积，导致浏览器卡顿。

## requestAnimationFrame

专门为动画设计的方法，他会在浏览器下一次重绘之前执行回调函数。浏览器会根据当前的帧率自动调整回调函数的执行频率。

- 所以只要不是回调函数的执行时间过长，就不会有帧率下降的问题。

## 如何避免

1. 减少回调函数的执行时间
2. 合理设置时间间隔
3. 使用 web workers 来执行耗时较长的计算任务，避免阻塞主线程
4. 动态调整时间间隔。通过性能监测面板调整
