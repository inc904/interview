# var-let-const 的区别

## var

在 ES5 中，顶层对象的属性和全局变量是等价的，用 var 声明的变量就是全局变量也是顶层变量；

- 顶层变量，在浏览器中指的是 window 对象，在 Node.js 中指的是 global 对象。

- 使用 var 声明的变量，会挂载到全局变量上，在浏览器中指 window 对象，在 Node.js 中指 global 对象。

- 使用 var 声明的变量存在变量提升的情况

```js
console.log(a) // undefined
var a = 1

// 等价于
var a
console.log(a)
a = 1
```

- 使用 var 我们可以对一个变量进行多次声明，后面声明的变量会覆盖前面的变量。

- 在函数中使用 var 声明变量的时候，该变量是局部的。
  而如果在函数内不实用 var，该变量就是全局的。

  ```js
  var a = 1
  function fn() {
    a = 2
  }
  fn()
  console.log(a) // 2
  ```

## let

let 是 ES6 新增，用来声明变量

- 用法类似于 var ，但是所声明的变量，只在 let 声明所在的块中可用。

```js
{
  let a = 1
}
console.log(a) // ReferenceError: a is not defined
```

- 不存在变量提升

- 使用 let 声明变量之前，该变量都不可用，也就是常说的“暂时性死区”，必须先声明，否则会报错。

- 相同作用域下 不允许重复声明

## const

- const 声明一个只读常量，一旦声明后，常量值就不能改变。
- const 一旦声明后，就必须初始化，不能留到以后赋值
- const 实际保证的并不是变量的值不能改动，而是变量指向的那个内存地址所保存的数据不能改动

  - 对于简单类型的数据，值就保存在变量指向的那个内存地址，因此等同于常量
  - 对于复杂类型的数据，变量指向的内存地址，保存的只是一个指向实际数据的指针，const 只能保证这个指针是固定的，不能确保变量的结构不变

## 区别

- 变量提升
- 暂时性死区
- 块级作用域
- 重复声明
- 修改声明的变量的值
- 使用

### 变量提升

- var 声明的变量存在变量提升， 即变量可以在声明之前调用，值为 undefined
- let、const 声明变量不存在变量提升，即变量必须在声明之后调用，否则会报错

### 暂时性死区

var 不存在暂时性死区，let、const 存在暂时性死区，即在声明之前不能使用变量，否则会报错。只有等到生命变量的那一行代码出现，才可以获取和使用该变量

### 块级作用域

var 不存在块级作用域，let、const 存在块级作用域，即声明的变量只在声明所在的块中可用。
