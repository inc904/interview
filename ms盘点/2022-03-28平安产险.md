# 平安产险

## 面试准备
  1. vue3 与 vue2的对比
    - 通过组合式api可以实现将在vue2中分散的同一功能逻辑聚合在了一起。另一个概念：独立的组合式函数（自定义hook）。
    - 响应式数据监听选择用Proxy取代了Object.definePorperty。为什么会这样做呢？：我理解是在vue2中数组和对象的数据新增时页面会出现无响应的情况，因为新增属性必须通过$set，调用Object.defineProperty去处理。而Proxy是代理对象。
    - 可以写多个根节点
    - 对指令进行了更加语义化的修改


  2. 指令
    - 指令是带有v-前缀的特殊attribute。职责：当表达式的值改变时，将起产生的连带影响，举例子：日历备忘录的响应式。
    - 参数，可以动态参数
    - 修饰符，触发事件做一些事情比如.prevent: 对于触发的事件调用event.preventDefault()

  3. 插槽
    - 具名插槽：带名字的插槽，就是按照约定插入到指定位置。
    - 作用域插槽：有时还是希望可以访问到子组件的作用域，为了让 user 在父级的插槽内容中可用，我们可以将 user 作为 <slot> 元素的一个 attribute 绑定上去：
```js
<span>
  <slot v-bind:user="user">
    {{ user.lastName }}
  </slot>
</span>
```
    - 绑定在 <slot> 元素上的 attribute 被称为插槽 prop。现在在父级作用域中，我们可以使用带值的 v-slot 来定义我们提供的插槽 prop 的名字：
```js
  <current-user>
    <template v-slot:default="slotProps">
      {{ slotProps.user.firstName }}
    </template>
  </current-user>
```

  1. webpack原理
    - webpack是把项目当作一个整体，通过给定的一个主文件，webpack将从这个主文件开始找到你项目当中的所有依赖的文件，使用loaders来处理它们，最后打包成一个或多个浏览器可识别的js文件
    - plugins, 在webpack运行的生命周期中会广播出许多事件，plugin可以监听这些事件，在合适的时机通过webpack提供的API改变输出结果。pugins是一个扩展器，webpack的强大生态给一些第三方插件有了用武之地，在webpack整个打包过程中，并不是管理上面loader负责处理文件的部分，而是处理我们一些实际的操作，例如生成html文件插入js文件、加载bundle文件、压缩js，css等文件等等操作；

  2. vite
    - 使用rollup打包代码，开箱即用

  3. 项目角度
    - 项目背景：大方向是基于运营的一个配置App内的赛事与相关节点活动的后台，其中包括发放门票、广告上新、业务数据可视化等子模块。

    - 功能背景：门票发放，用户批量筛选功能。基于Element tree树形结构二次封装的业务组件。

    - 遇见问题：关于性能方面，二层树结构，用户量大的时候。UI的渲染会卡顿，数据的批量查询选中会耗时太久。

    - 解决方案（主要分为3步）：
      a. UI渲染方面，移除了CSS的transiton动画效果，减轻了渲染压力（与产品沟通后，确认交互可以接受）
      b. 数据批量查询， performance.now() 打点记录逻辑代码段执行时间，，发现代码有冗余的一层循环结构（这里也调研了几种循环的优劣性，采取了原生for语句循环），优化查询时间。
      c. 在调用tree的批量节点选中时，发现执行该操作会消耗大量的时间。这里我采取了任务挂起的方案，通过将任务拆分成子任务，通过setTimeout(),将子任务挂起分段执行。

    - 优化效果：从最初的20-30s, 从视觉角度上优化成了3-4s。

    - 贡献：对公司的H5活动宣传模块
      a. 形成了统一的开发模板
      b. 将常用的方法封装进了utils的工具库
      c. 提高了重要节点的活动页面开发效率



## 面试盘点
  ### css
    1. 居中实现的几种方式，用到了哪些属性
    2. 移动端布局的方式
  ### js
    1. 事件循环原理
    2. webpack原理
  ### vue
    1. 响应式监听为什么数组[3] = 'value'，监听不到

  ### 项目维度
    1. 页面权限如何做的，灰度发布如何做的
    2. 做了什么性能优化
    3. webpack配置了什么做了性能优化

## 总结
  1. 总体面试情况比较以前有较改观，没有支支吾吾的语无伦次
  2. 还是得言简意赅，达到点子上
  3. 对原理性的东西还是得有自己的一个理解，靠背还是在紧张氛围下容易出现思路结构崩塌