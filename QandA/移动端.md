## webview 和 jsBridge

### 谁问了

- 富途

### 回答

`webView` 一个基于 `webkit` 内核的浏览器环境，可以解析 html，css，js，并且可以调用原生代码。

`jsBridge` 是一个用于在 webview 和 js 之间进行通信的框架，它提供了一套接口，使得开发者可以在 js 中调用原生代码，也可以在原生代码中调用 js。
相当于一个桥梁的作用。

web 应用调用原生接口，可以想象是 前端页面像浏览器发送请求，jsBridge 相当于 http 协议的角色。

用法：

- 原生应用暴漏的接口，在 jsBridge 中注册。

- url scheme 的形式： `scheme://host/path?query`

- postMessage 通信
  - 发送信息：`window.webkit.messageHandlers.xxx.postMessage(message)`
- 接收信息：`window.addEventListener('message', function(event) {})`

## 移动端适配

### 谁问了

- 富途

### 回答

- 布局要弹性，相对于 pc 端，移动端要更弹性，考虑缩放，避免换行和空白
- 高清屏幕需要考虑
- 交互方面，按钮、间距等要考虑到移动端的特性，避免太小，太大，太远，太近

1. viewport meta 标签要设置好
   width = device-width，布局宽度等于屏幕宽度
   initial-scale = 1.0，避免默认缩放导致布局问题。
2. 动态单位
   方案一： rem 单位 + 动态跟元素字体大小

   ```js
   function setRem() {
     // 通常设计稿是750px
     const baseSize = 75 // 基准值 750/10
     const scale = document.documentElement.clientWidth / 750
     document.documentElement.style.fontSize = baseSize * scale + 'px'
   }
   ```

   方案二：vw 根据视口宽度

   ```css
   /* 在 750px 的设计稿下，100px 转换为 (100/750*100vw) */
   .container {
     width: 13.333vw;
     font-size: 4vw;
   }
   ```

3. 布局上面的弹性，避免换行和空白，使用 flex 布局，避免使用 float

4. 媒体查询 css，针对不同的屏幕尺寸调整布局

```

```
